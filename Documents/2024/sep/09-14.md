웹서버의 기초에 대해서 공부를 했다. nodeJS의 Http 모듈을 이용해서 간단한 서버를 구현하는 코드였는데, http.createServer((req, res) => { }); createServer 메서드를 이용해서 http.Server의 인스턴스를 생성하고, 
이 인스턴스에 콜백함수를 붙여서, http.Server의 인스턴스가 Listen이 되면 콜백함수를 실행하도록 코드가 구성되어 있었다. 콜백 함수에 대해서 공부를 다시 하게 되었고, 서버와 클라이언트, 포트의 개념 그리고 프로세스에 대해서도 공부를 할 수 있었다.

- http.createServer는 http.Server 클래스의 인스턴스 > 콜백함수 > F.O > 환경레코드
- server.listen : 서버를 켜는 것 : PORT를 여는 것
  - 서버 시작 / 연결 대기 / 비동기 동작
  - 서버 시작 : server.listen은 서버를 시작하여 지정된 포트와 호스트(또는 기본 호스트)에서 들어오는 요청을 수신하도록 만든다
  - 연결대기 : 이 메서드를 호출하면 서버는 클라이언트의 연결을 기다리며, 요청이 들어올 때마다 등록된 콜백 함수를 호출하여 해당 요청을 처리한다.
  - 비동기 동작 : server.listen은 비동기적으로 동작하며, 즉시 반환한다. 서버가 요청을 수신할 준비가 되면 선택적으로 제공되는 콜백 함수를 호출할 수 있다.

- 서버 포트란?
  - 포트 번호는 0부터 65535(16비트의 수)까지의 숫자로 표현되며, 컴퓨터에서 실행 중인 여러 네트워크 애플리케이션이 서로 충돌하지 않고 통신할 수 있도록 도와준다.
  - **조합의 수 != 범위의 수 != 실제값의 수**
  - 포트는 네트워크 소켓을 통해 외부와 통신하는 프로세스에만 할당된다. 

- 로컬 서버의 동작
  - 서버 실행 : 먼저 server.listen(3000)과 같이 로컬 서버를 실행하면, 이 컴퓨터가 서버로서 특정 포트(예: 3000번 포트)에서 요청을 대기합니다.
  - 이 서버는 클라이언트의 요청을 수신하고 처리할 준비를 한다.
  - 클라이언트 요청 :
  - 같은 컴퓨터에서 웹 브라우저나 다른 클라이언트 프로그램을 사용하여 http://localhost:3000에 요청을 보낼 수 있다.
  - 이 요청은 **로컬 네트워크**를 통해 3000번 포트로 전달된다.
  - 서번 수신 및 응답 :
  - 서버는 3000번 포트에서 이 요청을 수신하고, 정의된 콜백 함수를 통해 응답을 처리한다.
  - 요청을 처리한 후, 응답을 클라이언트에게 보낸다.
 
  - 프로세스 : 두 가지 역할 : 로컬 환경에서는 하나의 컴퓨터에서 두 가지 역할을 모두 수행하지만, 이는 논리적으로 분리된다.
  - 1. 서버 프로세스 : 서버를 실행하는 노드 프로세스가 있다. 이 프로세스는 요청을 수신하고 응답을 처리하는 역할을 한다.
    2. 클라이언트 프로세스 : 웹 브라우저 또는 HTTP 클라이언트 역할을 한다. 이 프로세스는 서버에 요청을 보내고 응답을 수신한다.

  - 프로세스와 CPU
    - 프로세스 : 프로세스는 실행 중인 프로그램을 나타내며, 프로그램의 코드, 현재 상태, 메모리 공간 등을 포함한다.
    - CPU : 중앙 처리 장치는 프로세스를 실제로 실행하는 하드웨어이다.(명령 실행 / 스케줄링 / 문맥 교환)

  - 프로세스와 스레드
    - 프로세스 : 하나의 프로그램이 독립적으로 실행되는 단위이다. 각 프로세스는 독립된 메모리 공간을 가지고 있어 다른 프로세스와 직접 데이터를 공유하지 않는다.
    - 스레드 : 스레드는 프로세스 내에서 실행되는 더 작은 실행 단위이다. 하나의 프로세스는 여러 스레드를 가질 수 있으며, 스레드들은 프로세스의 메모리 공간을 공유한다.
   
    - 정리1 : 프로세스는 CPU에서 실행되는 프로그램의 인스턴스이다.
    - 정리2 : CPU는 프로세스의 명령어를 읽고 실행하며, 여러 프로세스를 스케줄링하여 실행한다.
    - 정리3 : 프로세스는 독립적인 실행 단위로서 자체적인 메모리 공간과 샐행 상태를 가지고 있다.

  - IP 주소의 기본 개념
    - IP 주소란 : Internet Protocol Address는 네트워크 상에서 장비를 식별하는 고유한 숫자 주소이다. IP 주소를 사용하여 네트워크 내의 장치들 간에 데이터를 송수신할 수 있다.
    - IP는 공인 IP와 사설 IP로 나뉜다.
    - 프로세스와 IP 주소 : 프로세스(애프리케이션)은 네트워크 통신을 위해 포트 번호를 사용한다. IP 주소는 장비를 식별하고, 포트 번호는 장비 내에서 특정 어플리케이션이나 서비스를 식별한다.
    - IP 주소의 역할 : IP 주소는 네트워크 상에서 데이터 패킷을 목적지로 전송하는 데 사용된다. 네트워크 장비는 IP 주소를 통해 데이터의 출발지와 도착지를 확인한다.
    - 식별과 라우팅 : IP 주소는 네트워크 장비를 식별하고, 데이트를 올바른 경로로 라우팅하는 데 사용된다.
    - 정리 : 1. IP 주소는 네트워크 상에서 장비를 식별하는 고유한 주소이다. 2. 하드웨어 장비는 네트워크에 연결될 때 고유한 IP 주소를 할당받는다. 3. 프로세스는 포트 번호를 통해 네트워크 통신을 하며, IP 주소는 장비르 식별한다.
    - 4. IPv4와 IPv6는 각각 32비트와 128비트 주소 체계를 사용한다.
- 공인 IP 주소는 ISP에서 할당받으며, 인터넷과 연결되는 장비에 사용된다.
- 사설 IP 주소는 로컬 네트워크의 라우터나 DHCP 서버에서 할당받는다.
- 동적 IP 주소는 DHCP 서버에서 자동으로 할당되며, 변경될 수 있다.
- 정적 IP 주소는 수동으로 설정되며, 변경되지 않는다.
- 127.0.0.1의 의미 : 루프백 주소 : 이는 컴퓨터가 자신의 네트워크 인터페이스를 통해 자기 자신과 동신할 수 있도록 해주는 주소이다.

---

웹서버 기초 2

- Handling different endpoints

노드를 이용해서 간단한 웹서버 구축하기
  url과 method를 이용해서 다양한 상황에서 분기를 나눠서 서버를 작성할 수 있다.
  다만, 콜백의 코드가 길어질 수 있고, 관리가 어려워질 수 있다. 그래서 등장하게 된 것이 express 이다.

- Basic Express
  - yarn add express
  - app.method(url, handler);
  - app.listen(port, () => );
  - express는 여러개의 Handler를 사용할 수 있다.
 
- Middleware
  -  application level
  -  routing level
  -  static middleware

- putting frontend and backend together

- CORS
  - CORS 브라우저의 룰 : 다른 origin으로 Fetch 불가

- How to deploy

- Serverless function
